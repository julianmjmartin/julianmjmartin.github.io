<!DOCTYPE html>
<html>
	<head>
		<link rel="sylesheet" type="text/css" href="game.css">
		<title>gachiBASS Game</title>
	</head>
	<body>
		<canvas id="e" class="canvas" width="600" height="686"></canvas>
		<script>
var canvas = document.getElementById("e");
var context = canvas.getContext("2d");
var billy = new Image();
			
var gachis = 0;
			
var gachiBASS = {level:0, active:false, price:0, gain:0};
var gachiGASM = {level:0, active:false, price:0, gain:0};
var gachiPls = {level:0, active:false, price:0, gain:0};
var gachiHYPER = {level:0, active:false, price:0, gain:0};
	
billy.src = "https://discordemoji.com/assets/emoji/gachiBASS.png";
billy.onload = function() {
	context.drawImage(billy, 0, 0);
};

canvas.addEventListener("click", clicked, false);
function clicked(e) {
	gachis += 1;
}

function buyLvl(id) {
	switch(id) {
		case "GB":
			if(gachis >= gachiBASS.price) {
				gachiBASS.level += 1;
				gachiBASS.active = true;
				gachis -= gachiBASS.price;
			}
			break;
		case "GG":
			if(gachis >= gachiGASM,price) {
				gachiGASM.level += 1;
				gachiGASM.active = true;
				gachis -= gachiGASM;
			}
			break;
		case "GP":
			if(gachis >= gachiPls.price) {
				gachiPls.level += 1;
				gachiPls.active = true;
				gachis -= gachiPls.price;
			}
			break;
		case "GH":
			if(gachis >= gachiHYPER.price) {
				gachiHYPER.level += 1;
				gachiHYPER.active = true;
				gachis -= gachiHYPER.price;
			}
			break;
		default:
			console.log("uh oh spagettios looks like my code broke again");
			break;
	}	
}

setInterval(function textUpdate(){
    var gachivs = gachis.toFixed(1);
	document.getElementById("score").innerHTML = gachivs;
	
    gachiBASS.price = (gachiBASS.level + 1)* 60;
	gachiGASM.price = (gachiGASM.level + 1)* 200;
	gachiPls.price = (gachiPls.level + 1)* 320;
	gachiHYPER.price = (gachiHYPER.level + 1)* 400;
	
	if(gachiBASS.level < 100) {
		document.getElementById("GB").innerHTML = "Buy gachiBASS level " + (gachiBASS.level+1) + " for " + gachiBASS.price + " gachis";				
	}else {
		document.getElementById("GB").innerHTML = "Your gachiBASS level is max";				
	}
	if(gachiGASM.level < 100) {
		document.getElementById("GG").innerHTML = "Buy gachiGASM level " + (gachiGASM.level+1) + " for " + gachiGASM.price + " gachis";				
	}else {
		document.getElementById("GG").innerHTML = "Your gachiGASM level is max";				
	}
	if(gachiPls.level < 100) {
		document.getElementById("GP").innerHTML = "Buy gachiPls level " + (gachiPls.level+1) + " for " + gachiPls.price + " gachis";				
	}else {
		document.getElementById("GP").innerHTML = "Your gachiPls level is max";				
	}
	if(gachiHYPER.level < 100) {
		document.getElementById("GH").innerHTML = "Buy gachiHYPER level " + (gachiHYPER.level+1) + " for " + gachiHYPER.price + " gachis";				
	}else {
		document.getElementById("GH").innerHTML = "Your gachiHYPER level is max";				
	}
}, 10);

setInterval(function gainGachis(){
	
	gachiBASS.gain = gachiBASS.level;
	gachiGASM.gain = gachiGASM.level * 2;
	gachiPls.gain = gachiPls.level * 3;
	gachiHYPER.gain = gachiHYPER.level * 4;
	
	if(gachiBASS.active == true) {
		gachis += gachiBASS.gain;
		console.log("gachiBASS");
	}
	if(gachiGASM.active == true) {
		gachis += gachiGASM.gain;
		console.log("gachiGASM");
	}
	if(gachiPls.active == true) {
		gachis += gachiPls.gain;
		console.log("gachiPls");
	}
	if(gachiHYPER.active == true) {
		gachis += gachiHYPER.gain;
		console.log("gachiHYPER");
	}
}, 1000);
		</script>
		<p class="score">Your gachi value is:</p>
		<p class="score" id="score">0</p>
		<button id="GB" onclick="buyLvl(this.id)">Buy gachiBASS</button>
		<button id="GG" onclick="buyLvl(this.id)">Buy gachiGASM</button>
		<button id="GP" onclick="buyLvl(this.id)">Buy gachiPls</button>
		<button id="GH" onclick="buyLvl(this.id)">Buy gachiHYPER</button>
	</body>
</html>
